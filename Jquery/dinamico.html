<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body class="container">

    <h1>Treinamentos</h1>
    <input type="button" value="atualizar lista" id="botao-atualiza">
    
    <ul id="lista">
        <li>Logica de Programação</li>
        <li>Dando os primeiros passos na web com HTML e CSS</li>
        <li>Bando de dados e SQL</li>
        <li>Ruby in Rails</li>
        <li>NodeJS e Socket</li>
    </ul>

    <label>Novo treinamento:</label>
    <input id="treinamento">
    <input type="button" value="adicionar" id="botao-adiciona">

    <script src="jquery.js"></script>

    <script>

        $('#lista').on("dblclick", "li", function() {
            $(this).animate({ "margin-left": "+=100"}, function() {
                $(this).remove();
            });
        });

        $('#botao-adiciona').click(function() {

            var texto = $('#treinamento').val();
            $('<li>').text(texto).css({'color': 'blue', 'background-color': 'lightgrey'}).appendTo('#lista');
        
        });

        $('#botao-atualiza').click(function() {
            $.ajax({ 

                url:'http://localhost:9090/Jquery/dinamico.html',
                dataType: 'jsonp',
                success: function(retorno) {
                    
                    $.each(retorno.treinamento, function(){
                        
                        var treinamento = this;

                        $('<li>').css('color', 'green').text(treinamento.nome).appendTo('#lista');
                    });
                }


             });
        });
    </script>
</body>
</html>
